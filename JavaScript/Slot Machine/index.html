<!DOCTYPE html>
<html>
    <head>
        <title>Slot Machine</title>

        <link href="style.css" rel="stylesheet" type="text/css">

        <script type = "text/javascript" src = "SlotMachine.js"></script>
        <script type = "text/javascript" src = "Utente.js"></script>
        <script type = "text/javascript">
            const slotMachine = new SlotMachine();
            const utente = new Utente();

            function spin() {
                slotMachine.spin();
                utente.credito -= 1;

                cambiaImmagine(slotMachine.numero1, 'immagine1');
                cambiaImmagine(slotMachine.numero2, 'immagine2');
                cambiaImmagine(slotMachine.numero3, 'immagine3');

                utente.accredita(slotMachine.tipoVincita, slotMachine.numeroVincente);

                document.getElementById('credito').innerHTML = "Credito: " + utente.credito;
            }

            function cambiaImmagine(valoreEstratto, immagine) {
                if (valoreEstratto == 0)
                    document.getElementById(immagine).src = "images/0.jpg"
                else if (valoreEstratto == 1)
                    document.getElementById(immagine).src = "images/1.jpg"
                else if (valoreEstratto == 2)
                    document.getElementById(immagine).src = "images/2.jpg"
                else if (valoreEstratto == 3)
                    document.getElementById(immagine).src = "images/3.jpg"
                else if (valoreEstratto == 4)
                    document.getElementById(immagine).src = "images/4.jpg"
                else if (valoreEstratto == 5)
                    document.getElementById(immagine).src = "images/5.png"
                else if (valoreEstratto == 6)
                    document.getElementById(immagine).src = "images/6.jpg"
                else if (valoreEstratto == 7)
                    document.getElementById(immagine).src = "images/7.jpg"
                else if (valoreEstratto == 8)
                    document.getElementById(immagine).src = "images/8.jpg"
                else if (valoreEstratto == 9)
                    document.getElementById(immagine).src = "images/9.jpeg"
            }

            function reset() {
                slotMachine.reset();
                utente.credito = 10;

                document.getElementById('immagine1').src = "images/0.jpg"
                document.getElementById('immagine2').src = "images/0.jpg"
                document.getElementById('immagine3').src = "images/0.jpg"

                document.getElementById('credito').innerHTML = "Credito: " + utente.credito;
            }
        </script>
    </head>

    <body>
        <table>
            <tr>
                <td> <img src = "images/slot.png"> </td>
                <td> <img id = "immagine1" src = "images/0.jpg" width = "200" height = "150"> </td>
                <td> <img id = "immagine2" src = "images/0.jpg" width = "200" height = "150"> </td>
                <td> <img id = "immagine3" src = "images/0.jpg" width = "200" height = "150"> </td>
            </tr>

            <tr>
                <td> <img src = "images/machine.png"> </td>
                <td id = "spin"> <input type = "button" value = "SPIN" onclick = "spin()"> </td>
                <td id = "reset"> <input type = "button" value = "RESET" onclick = "reset()"> </td>
            </tr>

            <tr>
                <td> <img src = "images/javaScript.png"> </td>
            </tr>
        </table>

        <p id = "credito" >Credito: 0</p>
    </body>
</html>